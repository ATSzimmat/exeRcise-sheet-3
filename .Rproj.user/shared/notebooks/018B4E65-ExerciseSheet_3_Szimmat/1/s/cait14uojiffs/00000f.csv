"0","# Now the plot will be created"
"0",""
"0","# Calculatung the average of all European countries "
"0","birth_data_VIII_avg_all <- birth_data_VIII %>%"
"0","  group_by(year) %>%"
"0","  summarise(value = mean(value, na.rm = TRUE), .groups = ""drop"") %>%"
"0","  mutate(country = ""average (incl. all countries)"")"
"0",""
"0","# Calculating the average of all European countries except Iceland and Sweden"
"0","birth_data_VIII_avg_excl <- birth_data_VIII %>%"
"0","  filter(!country %in% c(""iceland"", ""sweden"")) %>%"
"0","  group_by(year) %>%"
"0","  summarise(value = mean(value, na.rm = TRUE), .groups = ""drop"") %>%"
"0","  mutate(country = ""average (excl. iceland and sweden)"")"
"0",""
"0","# Calculating values only for Iceland"
"0","data_iceland <- birth_data_VIII %>%"
"0","  filter(country == ""iceland"")"
"0",""
"0","# Calculating values only for Sweden "
"0","data_sweden <- birth_data_VIII %>%"
"0","  filter(country == ""sweden"")"
"0",""
"0","# Combining all datasets"
"0","plot_data <- bind_rows("
"0","  birth_data_VIII_avg_excl,"
"0","  birth_data_VIII_avg_all,"
"0","  data_iceland,"
"0","  data_sweden)"
"0",""
"0","# Creating the plot"
"0","ggplot(plot_data, aes(x = year, y = value, color = country)) +"
"0","  geom_line() +"
"0","  scale_color_manual(values = c("
"0","    ""average (excl. iceland and sweden)"" = viridis_colors[1], "
"0","    ""average (incl. all countries)"" = viridis_colors[2],,"
"0","    ""iceland"" = viridis_colors[3],,"
"0","    ""sweden"" = viridis_colors[4],)) +"
"0","  labs("
"0","    x = ""Year"","
"0","    y = ""Rate of out-of-marraige-births"","
"0","    color = ""Legend"")"
"2","G1;H1;Errorh: object 'viridis_colors' not found
Error during wrapup: not that many frames on the stack
Error: no more error handlers available (recursive errors?); invoking 'abort' restart
g"
